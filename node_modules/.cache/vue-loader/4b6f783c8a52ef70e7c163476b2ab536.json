{"remainingRequest":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/src/components/List.vue?vue&type=style&index=0&id=264bddce&scoped=true&lang=css&","dependencies":[{"path":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/src/components/List.vue","mtime":1649371930397},{"path":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/node_modules/css-loader/dist/cjs.js","mtime":1649270475563},{"path":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1649270477878},{"path":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/node_modules/postcss-loader/src/index.js","mtime":1649270476134},{"path":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/node_modules/cache-loader/dist/cjs.js","mtime":1649270474227},{"path":"/Users/elena/Desktop/Rabota/test-vue/frontend-review-test/node_modules/vue-loader/lib/index.js","mtime":1649270476760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgLnByb2R1Y3QtbGlzdCB7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGZsZXgtd3JhcDogd3JhcDsKICB9CgogIC5jYXJkIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIG1heC13aWR0aDogMzIlOwogICAgYm9yZGVyOiAxcHggc29saWQgIzkwODg4ODsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBtYXJnaW46IDEwcHggMDsKICB9CgogIEBtZWRpYSAobWF4LXdpZHRoOiA4NDBweCkgewogICAgLmNhcmR7CiAgICAgIG1heC13aWR0aDogNDglOwogICAgfQogIH0KCkBtZWRpYSAobWF4LXdpZHRoOiA0MjBweCkgewogICAgLmNhcmR7CiAgICAgIG1heC13aWR0aDogOTAlOwogICAgfQogIH0KCgogIC5jYXJkX19pbWFnZSB7CiAgICB3aWR0aDogMTAwJTsKICB9CgogIGJ1dHRvbiB7CiAgICBwYWRkaW5nOiA1cHg7CiAgICBtYXJnaW46IDVweDsKICB9Cg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"product-list\">\n    <div class=\"card\" v-for=\"product in products\" :key=\"product.id\">\n      <p class=\"card__title\">{{ product.title }}</p>\n      <img class=\"card__image\" :src=\"product.image\" :alt=\"product.title\">\n      <p class=\"card__price\">Цена: {{ product.price }} {{ currency }}</p>\n\n      <div>\n        <input type=\"number\" ref=\"amount\" :id=\"product.id\">\n        <span>кг</span>\n      </div>\n\n      <button @click=\"addToCart(product)\"> В корзину </button>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      currency: String,\n    },\n    data() {\n      return {\n        products: [],\n      };\n    },\n    computed: {\n      cardsWidth() {\n        let width = window.innerWidth;\n        let count = 1;\n        if (width > '840px') {\n          count = 3;\n        } else if ((width > '420px' && width < '840px')) {\n          count = 2;\n        }\n\n        return 100 / count;\n      },\n    },\n    methods: {\n      startPricesMonitoring() {\n        setInterval(this.getList, 1000);\n      },\n      async getList() {\n        let data = await this.$store.dispatch('getProductsList');\n\n        this.products = data;\n      },\n      addToCart(product) {\n        let amount = this.$refs.amount.find((input) => input.id === product.id).value;\n\n        let data = {\n          amount,\n          price: product.price,\n          title: product.title,\n        };\n        this.$parent.cart.push(data);\n      },\n    },\n    created() {\n      this.startPricesMonitoring();\n    },\n  };\n</script>\n\n<style scoped>\n  .product-list {\n    padding: 20px;\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n\n  .card {\n    display: inline-block;\n    max-width: 32%;\n    border: 1px solid #908888;\n    border-radius: 5px;\n    text-align: center;\n    padding: 10px;\n    margin: 10px 0;\n  }\n\n  @media (max-width: 840px) {\n    .card{\n      max-width: 48%;\n    }\n  }\n\n@media (max-width: 420px) {\n    .card{\n      max-width: 90%;\n    }\n  }\n\n\n  .card__image {\n    width: 100%;\n  }\n\n  button {\n    padding: 5px;\n    margin: 5px;\n  }\n</style>\n"]}]}